<!DOCTYPE html>
<html lang="en">
<head>
    <title>Weather Service</title>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0"/>
    {% block stylesheets %}
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
        <link rel="stylesheet" href="{{ asset('css/mukuru.css') }}">
    {% endblock %}
    {% block javascriptsheader %}
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    {% endblock %}
</head>
<body class="app d-flex flex-column">
{% block appheader %}
{% endblock %}

<section class="app-content">
    <main class="container">{% block body %}{% endblock %}</main>
</section>

{% block appfooter %}
    <footer class="app-footer mt-auto">
        <div class="container"></div>
    </footer>
{% endblock %}
<div id="loading" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1"
     aria-labelledby="loading">
    <div class="modal-dialog d-flex justify-content-center align-items-center" style="min-height: 100%">
        <div class="spinner-border text-primary" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</div>
{% block javascriptsfooter %}
{% endblock %}
<script type="text/javascript">
    // for ui responsiveness we only run the actions
    // after the modal is shown/hidden
    function showLoading(callback) {
        $('#loading').one('shown.bs.modal', callback).modal('show');
    }

    function hideLoading(callback) {
        const loading = $('#loading');
        if (callback !== undefined) {
            loading.one('hidden.bs.modal', callback)
        }
        loading.modal('hide');
    }

    // $(() => {
    //     if (window.top !== window) {
    //         const allowedOrigins = <?= json_encode($allowedOrigins ?? []) ?>
    //         allowedOrigins.map((origin) => window.top.postMessage(window.location.href, origin))
    //     }
    // })
</script>
</body>
</html>